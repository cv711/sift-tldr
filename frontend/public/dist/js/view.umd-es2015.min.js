!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){(function(e){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(8),a=r(9);r(10);var c=function(t){function r(){n(this,r);var e=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return a.Sliders.initAllRanges(),e.sliderId="#wpmSlider",e.wpmValueId="#wpmValue",window.addEventListener("load",e.sliderHandler.bind(e)),e}return i(r,t),s(r,[{key:"presentView",value:function(t){e.log("tldr: presentView: ",t),a.Sliders.setValue(document.querySelector(this.sliderId),t.data.wpmSetting),document.querySelector(this.wpmValueId).innerHTML=t.data.wpmSetting}},{key:"willPresentView",value:function(t){e.log("tldr: willPresentView: ",t)}},{key:"sliderHandler",value:function(){var e=document.querySelector(this.sliderId),t=document.querySelector(this.wpmValueId);e.addEventListener("input",function(e){t.innerHTML=e.target.value}),e.addEventListener("change",function(e){this.publish("wpm",e.target.value),t.innerHTML=e.target.value}.bind(this))}}]),r}(u.SiftView);t.default=c,(0,u.registerSiftView)(new c(window))}).call(t,r(1))},function(e,t,r){(function(t){function n(){}function o(){d.log.apply(d,arguments)}function i(){d.log.apply(d,arguments)}function s(){d.warn.apply(d,arguments)}function u(e){v[e]=g()}function a(e){var t=v[e];if(!t)throw new Error("No such label: "+e);var r=g()-t;d.log(e+": "+r+"ms")}function c(){var e=new Error;e.name="Trace",e.message=p.format.apply(null,arguments),d.error(e.stack)}function l(e){d.log(p.inspect(e)+"\n")}function f(e){if(!e){var t=y.call(arguments,1);h.ok(!1,p.format.apply(null,t))}}var d,p=r(2),h=r(6),g=r(7),y=Array.prototype.slice,v={};d="undefined"!=typeof t&&t.console?t.console:"undefined"!=typeof window&&window.console?window.console:{};for(var m=[[n,"log"],[o,"info"],[i,"warn"],[s,"error"],[u,"time"],[a,"timeEnd"],[c,"trace"],[l,"dir"],[f,"assert"]],b=0;b<m.length;b++){var w=m[b],k=w[0],A=w[1];d[A]||(d[A]=k)}e.exports=d}).call(t,function(){return this}())},function(e,t,r){(function(e,n,o){function i(e,r){var n={seen:[],stylize:u};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&t._extend(n,r),A(n.showHidden)&&(n.showHidden=!1),A(n.depth)&&(n.depth=2),A(n.colors)&&(n.colors=!1),A(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),c(n,e,n.depth)}function s(e,t){var r=i.styles[t];return r?"["+i.colors[r][0]+"m"+e+"["+i.colors[r][1]+"m":e}function u(e,t){return e}function a(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}function c(e,r,n){if(e.customInspect&&r&&T(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return w(o)||(o=c(e,o,n)),o}var i=l(e,r);if(i)return i;var s=Object.keys(r),u=a(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),E(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(T(r)){var y=r.name?": "+r.name:"";return e.stylize("[Function"+y+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(S(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return f(r)}var v="",m=!1,b=["{","}"];if(g(r)&&(m=!0,b=["[","]"]),T(r)){var k=r.name?": "+r.name:"";v=" [Function"+k+"]"}if(_(r)&&(v=" "+RegExp.prototype.toString.call(r)),S(r)&&(v=" "+Date.prototype.toUTCString.call(r)),E(r)&&(v=" "+f(r)),0===s.length&&(!m||0==r.length))return b[0]+v+b[1];if(n<0)return _(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var A;return A=m?d(e,r,n,u,s):s.map(function(t){return p(e,r,n,u,t,m)}),e.seen.pop(),h(A,v,b)}function l(e,t){if(A(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return b(t)?e.stylize(""+t,"number"):y(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,r,n,o){for(var i=[],s=0,u=t.length;s<u;++s)D(t,String(s))?i.push(p(e,t,r,n,String(s),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))}),i}function p(e,t,r,n,o,i){var s,u,a;if(a=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),D(n,o)||(s="["+o+"]"),u||(e.seen.indexOf(a.value)<0?(u=v(r)?c(e,a.value,null):c(e,a.value,r-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),A(s)){if(i&&o.match(/^\d+$/))return u;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function h(e,t,r){var n=0,o=e.reduce(function(e,t){return n++,t.indexOf("\n")>=0&&n++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]:r[0]+t+" "+e.join(", ")+" "+r[1]}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return null==e}function b(e){return"number"==typeof e}function w(e){return"string"==typeof e}function k(e){return"symbol"==typeof e}function A(e){return void 0===e}function _(e){return x(e)&&"[object RegExp]"===C(e)}function x(e){return"object"==typeof e&&null!==e}function S(e){return x(e)&&"[object Date]"===C(e)}function E(e){return x(e)&&("[object Error]"===C(e)||e instanceof Error)}function T(e){return"function"==typeof e}function j(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function C(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function O(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var H=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(i(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,o=n.length,s=String(e).replace(H,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),u=n[r];r<o;u=n[++r])s+=v(u)||!x(u)?" "+u:" "+i(u);return s},t.deprecate=function(r,i){function s(){if(!u){if(n.throwDeprecation)throw new Error(i);n.traceDeprecation?o.trace(i):o.error(i),u=!0}return r.apply(this,arguments)}if(A(e.process))return function(){return t.deprecate(r,i).apply(this,arguments)};if(n.noDeprecation===!0)return r;var u=!1;return s};var q,L={};t.debuglog=function(e){if(A(q)&&(q=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!L[e])if(new RegExp("\\b"+e+"\\b","i").test(q)){var r=n.pid;L[e]=function(){var n=t.format.apply(t,arguments);o.error("%s %d: %s",e,r,n)}}else L[e]=function(){};return L[e]},t.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=g,t.isBoolean=y,t.isNull=v,t.isNullOrUndefined=m,t.isNumber=b,t.isString=w,t.isSymbol=k,t.isUndefined=A,t.isRegExp=_,t.isObject=x,t.isDate=S,t.isError=E,t.isFunction=T,t.isPrimitive=j,t.isBuffer=r(4);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){o.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=r(5),t._extend=function(e,t){if(!t||!x(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(t,function(){return this}(),r(3),r(1))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(l===setTimeout)return setTimeout(e,0);if((l===r||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function i(e){if(f===clearTimeout)return clearTimeout(e);if((f===n||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function s(){g&&p&&(g=!1,p.length?h=p.concat(h):y=-1,h.length&&u())}function u(){if(!g){var e=o(s);g=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,g=!1,i(e)}}function a(e,t){this.fun=e,this.array=t}function c(){}var l,f,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:r}catch(e){l=r}try{f="function"==typeof clearTimeout?clearTimeout:n}catch(e){f=n}}();var p,h=[],g=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];h.push(new a(e,t)),1!==h.length||g||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){(function(t){"use strict";/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
function n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function o(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}function i(e){return Object.prototype.toString.call(e)}function s(e){return!o(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function u(e){if(w.isFunction(e)){if(_)return e.name;var t=e.toString(),r=t.match(S);return r&&r[1]}}function a(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function c(e){if(_||!w.isFunction(e))return w.inspect(e);var t=u(e),r=t?": "+t:"";return"[Function"+r+"]"}function l(e){return a(c(e.actual),128)+" "+e.operator+" "+a(c(e.expected),128)}function f(e,t,r,n,o){throw new x.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function d(e,t){e||f(e,!0,t,"==",x.ok)}function p(e,t,r,u){if(e===t)return!0;if(o(e)&&o(t))return 0===n(e,t);if(w.isDate(e)&&w.isDate(t))return e.getTime()===t.getTime();if(w.isRegExp(e)&&w.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(s(e)&&s(t)&&i(e)===i(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(o(e)!==o(t))return!1;u=u||{actual:[],expected:[]};var a=u.actual.indexOf(e);return a!==-1&&a===u.expected.indexOf(t)||(u.actual.push(e),u.expected.push(t),g(e,t,r,u))}return r?e===t:e==t}function h(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function g(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(w.isPrimitive(e)||w.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=h(e),i=h(t);if(o&&!i||!o&&i)return!1;if(o)return e=A.call(e),t=A.call(t),p(e,t,r);var s,u,a=E(e),c=E(t);if(a.length!==c.length)return!1;for(a.sort(),c.sort(),u=a.length-1;u>=0;u--)if(a[u]!==c[u])return!1;for(u=a.length-1;u>=0;u--)if(s=a[u],!p(e[s],t[s],r,n))return!1;return!0}function y(e,t,r){p(e,t,!0)&&f(e,t,r,"notDeepStrictEqual",y)}function v(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&t.call({},e)===!0}function m(e){var t;try{e()}catch(e){t=e}return t}function b(e,t,r,n){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=m(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&f(o,r,"Missing expected exception"+n);var i="string"==typeof n,s=!e&&w.isError(o),u=!e&&o&&!r;if((s&&i&&v(o,r)||u)&&f(o,r,"Got unwanted exception"+n),e&&o&&r&&!v(o,r)||!e&&o)throw o}var w=r(2),k=Object.prototype.hasOwnProperty,A=Array.prototype.slice,_=function(){return"foo"===function(){}.name}(),x=e.exports=d,S=/\s*function\s+([^\(\s]*)\s*/;x.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=l(this),this.generatedMessage=!0);var t=e.stackStartFunction||f;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=u(t),i=n.indexOf("\n"+o);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}},w.inherits(x.AssertionError,Error),x.fail=f,x.ok=d,x.equal=function(e,t,r){e!=t&&f(e,t,r,"==",x.equal)},x.notEqual=function(e,t,r){e==t&&f(e,t,r,"!=",x.notEqual)},x.deepEqual=function(e,t,r){p(e,t,!1)||f(e,t,r,"deepEqual",x.deepEqual)},x.deepStrictEqual=function(e,t,r){p(e,t,!0)||f(e,t,r,"deepStrictEqual",x.deepStrictEqual)},x.notDeepEqual=function(e,t,r){p(e,t,!1)&&f(e,t,r,"notDeepEqual",x.notDeepEqual)},x.notDeepStrictEqual=y,x.strictEqual=function(e,t,r){e!==t&&f(e,t,r,"===",x.strictEqual)},x.notStrictEqual=function(e,t,r){e===t&&f(e,t,r,"!==",x.notStrictEqual)},x.throws=function(e,t,r){b(!0,e,t,r)},x.doesNotThrow=function(e,t,r){b(!1,e,t,r)},x.ifError=function(e){if(e)throw e};var E=Object.keys||function(e){var t=[];for(var r in e)k.call(e,r)&&t.push(r);return t}}).call(t,function(){return this}())},function(e,t){function r(){return(new Date).getTime()}e.exports=r},function(e,t,r){var n,o;(function(e,i){!function(e,r){r(t)}(this,function(t){function s(e,t){return t={exports:{}},e(t,t.exports),t.exports}function u(e){X.trace("[opCreateDb]: ",e);var t={};switch(e.type){case"MSG":t.msg=Y("rs_msg_db-"+e.accountGuid,v(ee));break;case"SIFT":if(!e.siftGuid)throw new Error("[opCreateDb]: dbInfo.siftGuid undefined");X.trace("[opCreateDb]: creating SIFT db");var r=y(e.schema,!0);r=r.addStore("_user.default").addStore("_redsift"),t.db=Y(e.siftGuid+"-"+e.accountGuid,r),t.msg=Y("rs_msg_db-"+e.accountGuid,v(ee));break;case"SYNC":X.trace("[opCreateDb]: creating SYNC db"),t.db=Y("rs_sync_log-"+e.accountGuid,y(te));break;case"CLIENT":t.db=Y("rs_client_db-"+e.clientName,y(re));break;default:throw new Error("[opCreateDb]: unsupported db type: "+e.type)}return t}function a(e,t,r){if(X.trace("[opDel]: ",t,r),!t.bucket)return Promise.reject("[opDel]: params.bucket undefined");if(!t.keys||0===t.keys.length)return X.trace("[opDel]: params.keys undefined"),Promise.resolve();if(Z.indexOf(t.bucket)!==-1){var n=t.keys.map(function(e){return r+"/"+e});return m(e.msg,{bucket:t.bucket,keys:n})}return m(e.db,t)}function c(e,t,r){if(X.trace("[opGet]: ",t),!t.bucket)return Promise.reject("[opGet]: params.bucket undefined");if(!t.keys)return Promise.reject("[opGet]: param.keys undefined");if(0===t.keys.length)return Promise.resolve([]);if(Z.indexOf(t.bucket)!==-1){var n=t.keys.map(function(e){return r+"/"+e});return k(e.msg,{bucket:t.bucket,keys:n}).then(function(e){return e.map(function(e){return{key:e.key.split("/")[1],value:e.value}})})}return k(e.db,t)}function l(e,t,r){return X.trace("[opGetAll]: ",t,r),t.bucket?Z.indexOf(t.bucket)!==-1?A(e.msg,{bucket:t.bucket,index:"sift.guid",range:r},!0).then(function(e){return e.map(function(e){return{key:e.key.split("/")[1],value:e.value}})}):A(e.db,t,!0):Promise.reject("[opGetAll]: params.bucket undefined")}function f(e,t,r){return X.trace("[opGetAllKeys]: ",t,r),t.bucket?Z.indexOf(t.bucket)!==-1?A(e.msg,{bucket:t.bucket,index:"sift.guid",range:r},!1).then(function(e){return e.map(function(e){return e.key.split("/")[1]})}):A(e.db,t,!1):Promise.reject("[opGetAllKeys]: params.bucket undefined")}function d(e,t,r){return X.trace("[opGetIndex]: ",t,r),t.bucket?Z.indexOf(t.bucket)!==-1?A(e.msg,{bucket:t.bucket,index:"sift.guid",range:r},!0).then(function(e){return e.map(function(e){return{key:e.key.split("/")[1],value:e.value}})}):t.index?A(e.db,t,!0):Promise.reject("[opGetIndex]:params.index undefined"):Promise.reject("[opGetIndex]:params.bucket undefined")}function p(e,t,r){return X.trace("[opGetIndexKeys]: ",t,r),t.bucket?Z.indexOf(t.bucket)!==-1?A(e.msg,{bucket:t.bucket,index:"sift.guid",range:r},!1).then(function(e){return e.map(function(e){return{key:e.key.split("/")[1],value:e.value}})}):t.index?A(e.db,t,!1):Promise.reject("[opGetIndexKeys]: params.index undefined"):Promise.reject("[opGetIndexKeys]: params.bucket undefined")}function h(e,t,r){if(X.trace("[opGetWithIndex]: ",t,r),!t.bucket)return Promise.reject("[opGetWithIndex]:params.bucket undefined");if(!t.keys)return Promise.reject("[opGetWithIndex]:params.keys undefined");if(Z.indexOf(t.bucket)!==-1){var n=t.keys.map(function(e){return r+"/"+e});return w(e.msg,{bucket:t.bucket,keys:n,index:"sift.guid",range:r}).then(function(e){return e.map(function(e){return{key:e.key.split("/")[1],value:e.value}})})}return t.index?t.range?w(e.db,t):Promise.reject("[opGetWithIndex]:params.range undefined"):Promise.reject("[opGetWithIndex]:params.index undefined")}function g(e,t,r,n){X.trace("[opPut]: ",t,r,n);var o=e.db;if(!t.bucket)return Promise.reject("[opPut]: params.bucket undefined");if(!t.kvs||0===t.kvs.length)return X.warn("[opPut]: params.kvs undefined"),Promise.resolve();var i=t.kvs;if(r||(i=i.map(function(e){return{key:e.key,value:{value:e.value}}})),Z.indexOf(t.bucket)!==-1){o=e.msg;var i=i.map(function(e){return{key:n+"/"+e.key,value:e.value}})}return b(o,{bucket:t.bucket,kvs:i},r)}function y(e,t){X.trace("[_getTreoSchema]: ",e,t);var r=Y.schema().version(1);return e.forEach(function(e){t&&Z.indexOf(e.name)!==-1||(r=e.keypath?r.addStore(e.name,{key:e.keypath}):r.addStore(e.name),e.indexes&&e.indexes.forEach(function(e){r=r.addIndex(e,e,{unique:!1})}))}),r}function v(e,t){X.trace("[_getVersionedTreoSchema]: ",e,t);var r=Y.schema();return e.forEach(function(e,n){r=r.version(n+1),e.forEach(function(e){t&&Z.indexOf(e.name)!==-1||(e.drop?(X.trace("[_getVersionedTreoSchema]: dropping store: ",e.name),r=r.dropStore(e.name)):r=e.keypath?r.addStore(e.name,{key:e.keypath}):r.addStore(e.name),e.indexes&&e.indexes.forEach(function(t){e.drop?(X.trace("[_getVersionedTreoSchema]: dropping store/index: "+e.name+"/"+t),r=r.dropIndex(t)):r=r.addIndex(t,t,{unique:!1})}))})}),r}function m(e,t){return X.trace("[_batchDelete]: ",t),new Promise(function(r,n){e.transaction("readwrite",[t.bucket],function(e,o){if(e)return n(e);var i=o.objectStore(t.bucket),s=0,u=function(){if(!(s>=t.keys.length)){var e,r=t.keys[s];e=i.delete(r),e.onerror=n,e.onsuccess=u,s+=1}};o.onerror=o.onabort=n,o.oncomplete=function(){r()},u()})})}function b(e,t){return X.trace("[_batchPut]: ",t),new Promise(function(r,n){var o=t.kvs.length;e.transaction("readwrite",[t.bucket],function(e,i){if(e)return n(e);var s=i.objectStore(t.bucket),u=0,a=function(){if(!(u>=o)){X.trace("[_batchPut: put: ",t.kvs[u]);var e;e=s.put(t.kvs[u].value,t.kvs[u].key),e.onerror=n,e.onsuccess=a,u+=1}};i.onerror=i.onabort=n,i.oncomplete=function(){r()},a()})})}function w(e,t){return X.trace("[_getWithIndexRange]: ",t),new Promise(function(r,n){var o=e.store(t.bucket),i=[],s=0,u=function(e){var r=t.keys.indexOf(e.primaryKey);return r!==-1&&(X.trace("[found key: ",e.primaryKey),i[r].value=e.value.value,s++),s===t.keys.length?a():void e.continue()},a=function(e){X.trace("[_getWithIndexRange: result: ",i),e?n(e):r(i)};t.keys.forEach(function(e){i.push({key:e,value:void 0})}),o.cursor({index:t.index,range:t.range,iterator:u},a)})}function k(e,t){return X.trace("[_findIn]: ",t),new Promise(function(r,n){var o=e.store(t.bucket),i=[],s=0,u=function(e){if(X.trace("[_findIn]: iterator: ",e),e.key>c[s]){for(X.trace("[_findIn]: cursor ahead: ",e.key,c[s]);e.key>c[s]&&s<c.length;)s+=1,X.trace("[_findIn]: moving to next key: ",e.key,c[s]);if(s>c.length)return X.trace("[_findIn]: exhausted keys. done."),a()}e.key===c[s]?(X.trace("[_findIn]: found key: ",e.key,e.value),i[t.keys.indexOf(c[s])]={key:e.key,value:e.value.value},s+=1,s<c.length?e.continue(c[s]):a()):(X.trace("[_findIn]: continuing to next key: ",c[s]),e.continue(c[s]))},a=function(e){X.trace("[findIn]: result: ",i),e?n(e):r(i)},c=t.keys.slice();c=c.sort(Y.cmp),X.trace("[findIn: sorted keys: ",c),t.keys.forEach(function(e){i.push({key:e,value:void 0})}),o.cursor({iterator:u},a)})}function A(e,t,r){return X.trace("[_getAll]: ",t,r),new Promise(function(n,o){var i=[],s=[],u=e.store(t.bucket),a=function(e){var n={key:e.primaryKey};X.trace("[_getAll]: cursor",e),r&&(n.value=e.value.value),t.index&&(n.index=e.key),i.push(n),s.push(e.primaryKey),e.continue()},c={iterator:a};t.index&&(c.index=t.index),t.range&&(c.range=t.range),u.cursor(c,function(e){e?o(e):t.index||t.range||r?(X.trace("[_getAll]: resolving: ",i),n(i)):(X.trace("[_getAll]: resolving: ",s),n(s))})})}function _(t){e.log("[Redsift::registerSiftView]: registered")}function x(e){return C(D,e)}function S(e){return C(se,e)}function E(t){e.log("[Redsift::registerSiftController]: registered")}function T(e){return C(I,e)}function j(t){e.log("[Redsift::registerEmailClientController]: registered")}function C(e,t){var r=function(){e.call(this),this.init&&"function"==typeof this.init&&this.init()};return r.prototype=Object.create(e.prototype),r.constructor=r,Object.keys(t).forEach(function(e){r.prototype[e]=t[e]}),new r}var I=function(){this._proxy=self,this._registerMessageListeners()};I.prototype._registerMessageListeners=function(){var e=this;this._proxy&&(this._proxy.onmessage=function(t){var r=t.data.method;e["_"+r]&&e["_"+r](t.data.params)})},I.prototype._emailStats=function(e){this.onstats&&this.onstats(e.name,e.value)},I.prototype._getThreadRowDisplayInfo=function(e){var t=this,r={};e.tris.forEach(function(n){void 0!==n.value&&void 0!==n.value.list&&t.loadThreadListView&&(r[n.key]=t.loadThreadListView(n.value.list,e.supportedTemplates))}),this._proxy.postMessage({method:"getThreadRowDisplayInfoCallback",params:r})};var O=function(){this._observers=[]};O.prototype.subscribe=function(e,t){this._op("_sub",e,t)},O.prototype.unsubscribe=function(e,t){this._op("_unsub",e,t)},O.prototype.unsubscribeAll=function(e){this._observers[e]&&delete this._observers[e]},O.prototype.publish=function(e,t){this._op("_pub",e,t)},O.prototype._op=function(e,t,r){var n=this;Array.isArray(t)?t.forEach(function(t){n[e](t,r)}):this[e](t,r)},O.prototype._sub=function(e,t){this._observers[e]||(this._observers[e]=[]),t&&this._observers[e].indexOf(t)===-1&&this._observers[e].push(t)},O.prototype._unsub=function(e,t){if(this._observers[e]){var r=this._observers[e].indexOf(t);~r&&this._observers[e].splice(r,1)}},O.prototype._pub=function(e,t){var r=this;if(this._observers[e])for(var n=this._observers[e].length-1;n>=0;n--)r._observers[e][n](t)};var D=function(){this._resizeHandler=null,this._proxy=parent,this.controller=new O,this._registerMessageListeners()};D.prototype.publish=function(e,t){this._proxy.postMessage({method:"notifyController",params:{topic:e,value:t}},"*")},D.prototype._registerMessageListeners=function(){var t=this;window.addEventListener("message",function(r){var n=r.data.method,o=r.data.params;"notifyView"===n?t.controller.publish(o.topic,o.value):t[n]?t[n](o):e.warn("[SiftView]: method not implemented: ",n)},!1)};var H=function(e){function t(t){e.call(this),this._proxy=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.goto=function(e){this._postMessage("goto",e)},t.prototype.close=function(){this._postMessage("close")},t.prototype._postMessage=function(e,t){this._proxy.postMessage({method:"notifyClient",params:{topic:e,value:t}})},t}(O),q=function(e){function t(){e.call(this),this._storage=null}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(e){this._storage=e},t.prototype.get=function(e){return this._storage.get(e)},t.prototype.getIndexKeys=function(e){return this._storage.getIndexKeys(e)},t.prototype.getIndex=function(e){return this._storage.getIndex(e)},t.prototype.getWithIndex=function(e){return this._storage.getWithIndex(e)},t.prototype.getAllKeys=function(e){return this._storage.getAllKeys(e)},t.prototype.getAll=function(e){return this._storage.getAll(e)},t.prototype.getUser=function(e){return this._storage.getUser(e)},t.prototype.putUser=function(e){return this._storage.putUser(e)},t.prototype.delUser=function(e){return this._storage.delUser(e)},t}(O),L="undefined"!=typeof window?window:"undefined"!=typeof i?i:"undefined"!=typeof self?self:{},M=s(function(i){!function(e,s){"use strict";n=s,o="function"==typeof n?n.call(t,r,t,i):n,!(void 0!==o&&(i.exports=o))}(L,function(){"use strict";function t(t){return typeof e!==a&&(void 0!==e[t]?r(e,t):void 0!==e.log?r(e,"log"):u)}function r(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function n(t,r,n){return function(){typeof e!==a&&(o.call(this,r,n),this[t].apply(this,arguments))}}function o(e,t){for(var r=this,n=0;n<c.length;n++){var o=c[n];r[o]=n<e?u:r.methodFactory(o,e,t)}}function i(e,r,o){return t(e)||n.apply(this,arguments)}function s(t,r,n){function s(e){var t=(c[e]||"silent").toUpperCase();try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}function u(){var e;try{e=window.localStorage[d]}catch(e){}if(typeof e===a)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(d)+"=");r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}var l,f=this,d="loglevel";t&&(d+=":"+t),f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=n||i,f.getLevel=function(){return l},f.setLevel=function(r,n){if("string"==typeof r&&void 0!==f.levels[r.toUpperCase()]&&(r=f.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=f.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(l=r,n!==!1&&s(r),o.call(f,r,t),typeof e===a&&r<f.levels.SILENT)return"No console available for logging"},f.setDefaultLevel=function(e){u()||f.setLevel(e,!1)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)};var p=u();null==p&&(p=null==r?"WARN":r),f.setLevel(p,!1)}var u=function(){},a="undefined",c=["trace","debug","info","warn","error"],l=new s,f={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new s(e,l.getLevel(),l.methodFactory)),t};var d=typeof window!==a?window.log:void 0;return l.noConflict=function(){return typeof window!==a&&window.log===l&&(window.log=d),l},l})}),P=M&&"object"==typeof M&&"default"in M?M.default:M,R=s(function(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var r;return"[object Object]"===t.call(e)&&(r=Object.getPrototypeOf(e),null===r||r===Object.getPrototypeOf({}))}}),B=R&&"object"==typeof R&&"default"in R?R.default:R,N=s(function(e,t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e){var t=L.IDBKeyRange||L.webkitIDBKeyRange;if(e instanceof t)return e;if("undefined"==typeof e||null===e)return null;if(!(0,i.default)(e))return t.only(e);var r=Object.keys(e).sort();if(1===r.length){var n=r[0],o=e[n];switch(n){case"eq":return t.only(o);case"gt":return t.lowerBound(o,!0);case"lt":return t.upperBound(o,!0);case"gte":return t.lowerBound(o);case"lte":return t.upperBound(o);default:throw new TypeError('"'+n+'" is not valid key')}}else{var s=e[r[0]],u=e[r[1]],a=r.join("-");switch(a){case"gt-lt":return t.bound(s,u,!0,!0);case"gt-lte":return t.bound(s,u,!0,!1);case"gte-lt":return t.bound(s,u,!1,!0);case"gte-lte":return t.bound(s,u,!1,!1);default:throw new TypeError('"'+a+'" are conflicted keys')}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var o=B,i=r(o);e.exports=t.default}),G=N&&"object"==typeof N&&"default"in N?N.default:N,V=s(function(e){function t(e,t,r,n){this.store=e,this.name=t,this.field=r,this.opts=n,this.multi=n.multi||n.multiEntry||!1,this.unique=n.unique||!1}var r=G;e.exports=t,t.prototype.get=function(e,t){function r(e){n.push(e.value),e.continue()}var n=[],o=this.unique,i={range:e,iterator:r};this.cursor(i,function(e){return e?t(e):void(o?t(null,n[0]):t(null,n))})},t.prototype.count=function(e,t){var n=this.store.name,o=this.name;this.store.db.transaction("readonly",[n],function(i,s){if(i)return t(i);var u=s.objectStore(n).index(o),a=u.count(r(e));a.onerror=t,a.onsuccess=function(e){t(null,e.target.result)}})},t.prototype.cursor=function(e,t){e.index=this.name,this.store.cursor(e,t)}}),U=V&&"object"==typeof V&&"default"in V?V.default:V,F=s(function(e){var t=Object.prototype.toString;e.exports=function(e){switch(t.call(e)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}return null===e?"null":void 0===e?"undefined":e!==e?"nan":e&&1===e.nodeType?"element":(e=e.valueOf?e.valueOf():Object.prototype.valueOf.apply(e),typeof e)}}),z=F&&"object"==typeof F&&"default"in F?F.default:F,$=s(function(e){function t(e,t){this.db=null,this.name=e,this.indexes={},this.opts=t,this.key=t.key||t.keyPath||void 0,this.increment=t.increment||t.autoIncretement||void 0}var r=z,n=G;e.exports=t,t.prototype.index=function(e){return this.indexes[e]},t.prototype.put=function(e,t,n){var o=this.name,i=this.key;i&&("object"==r(e)?(n=t,t=e,e=null):t[i]=e),this.db.transaction("readwrite",[o],function(r,s){if(r)return n(r);var u=s.objectStore(o),a=i?u.put(t):u.put(t,e);s.onerror=s.onabort=a.onerror=n,s.oncomplete=function(){n(null,a.result)}})},t.prototype.get=function(e,t){var r=this.name;this.db.transaction("readonly",[r],function(n,o){if(n)return t(n);var i=o.objectStore(r),s=i.get(e);s.onerror=t,s.onsuccess=function(e){t(null,e.target.result)}})},t.prototype.del=function(e,t){var r=this.name;this.db.transaction("readwrite",[r],function(n,o){if(n)return t(n);var i=o.objectStore(r),s=i.delete(e);o.onerror=o.onabort=s.onerror=t,o.oncomplete=function(){t()}})},t.prototype.count=function(e){var t=this.name;this.db.transaction("readonly",[t],function(r,n){if(r)return e(r);var o=n.objectStore(t),i=o.count();i.onerror=e,i.onsuccess=function(t){e(null,t.target.result)}})},t.prototype.clear=function(e){var t=this.name;this.db.transaction("readwrite",[t],function(r,n){if(r)return e(r);var o=n.objectStore(t),i=o.clear();n.onerror=n.onabort=i.onerror=e,n.oncomplete=function(){e()}})},t.prototype.batch=function(e,t){var r=this.name,n=this.key,o=Object.keys(e);this.db.transaction("readwrite",[r],function(i,s){function u(){if(!(c>=o.length)){var r,i=o[c],s=e[i];null===s?r=a.delete(i):n?(s[n]||(s[n]=i),r=a.put(s)):r=a.put(s,i),r.onerror=t,r.onsuccess=u,c+=1}}if(i)return t(i);var a=s.objectStore(r),c=0;s.onerror=s.onabort=t,s.oncomplete=function(){t()},u()})},t.prototype.all=function(e){function t(e){r.push(e.value),e.continue()}var r=[];this.cursor({iterator:t},function(t){t?e(t):e(null,r)})},t.prototype.cursor=function(e,t){var r=this.name;this.db.transaction("readonly",[r],function(o,i){if(o)return t(o);var s=e.index?i.objectStore(r).index(e.index):i.objectStore(r),u=s.openCursor(n(e.range));u.onerror=t,u.onsuccess=function(r){var n=r.target.result;n?e.iterator(n):t()}})}}),W=$&&"object"==typeof $&&"default"in $?$.default:$,Q=s(function(e){function t(){return this instanceof t?(this._stores={},this._current={},void(this._versions={})):new t}var r=z,n=W,o=U;e.exports=t,t.prototype.version=function(e){if("number"!=r(e)||e<1||e<this.getVersion())throw new TypeError("not valid version");return this._current={version:e,store:null},this._versions[e]={stores:[],dropStores:[],indexes:[],dropIndexes:[],version:e},this},t.prototype.addStore=function(e,t){if("string"!=r(e))throw new TypeError("`name` is required");if(this._stores[e])throw new TypeError("store is already defined");var o=new n(e,t||{});return this._stores[e]=o,this._versions[this.getVersion()].stores.push(o),this._current.store=o,this},t.prototype.dropStore=function(e){if("string"!=r(e))throw new TypeError("`name` is required");var t=this._stores[e];if(!t)throw new TypeError("store is not defined");return delete this._stores[e],this._versions[this.getVersion()].dropStores.push(t),this},t.prototype.addIndex=function(e,t,n){if("string"!=r(e))throw new TypeError("`name` is required");if("string"!=r(t)&&"array"!=r(t))throw new TypeError("`field` is required");var i=this._current.store;if(i.indexes[e])throw new TypeError("index is already defined");var s=new o(i,e,t,n||{});return i.indexes[e]=s,this._versions[this.getVersion()].indexes.push(s),this},t.prototype.dropIndex=function(e){if("string"!=r(e))throw new TypeError("`name` is required");var t=this._current.store.indexes[e];if(!t)throw new TypeError("index is not defined");return delete this._current.store.indexes[e],this._versions[this.getVersion()].dropIndexes.push(t),this},t.prototype.getStore=function(e){if("string"!=r(e))throw new TypeError("`name` is required");if(!this._stores[e])throw new TypeError("store is not defined");return this._current.store=this._stores[e],this},t.prototype.getVersion=function(){return this._current.version},t.prototype.callback=function(){var e=Object.keys(this._versions).map(function(e){return this._versions[e]},this).sort(function(e,t){return e.version-t.version});return function(t){var r=t.target.result,n=t.target.transaction;e.forEach(function(e){t.oldVersion>=e.version||(e.stores.forEach(function(e){var t={};"undefined"!=typeof e.key&&(t.keyPath=e.key),"undefined"!=typeof e.increment&&(t.autoIncrement=e.increment),r.createObjectStore(e.name,t)}),e.dropStores.forEach(function(e){r.deleteObjectStore(e.name)}),e.indexes.forEach(function(e){var t=n.objectStore(e.store.name);t.createIndex(e.name,e.field,{unique:e.unique,multiEntry:e.multi})}),e.dropIndexes.forEach(function(e){var t=n.objectStore(e.store.name);t.deleteIndex(e.name)}))})}}}),K=Q&&"object"==typeof Q&&"default"in Q?Q.default:Q,J=s(function(e,t){function r(e,t){if(!(this instanceof r))return new r(e,t);if("string"!=i(e))throw new TypeError("`name` required");if(!(t instanceof s))throw new TypeError("not valid schema");this.name=e,this.status="close",this.origin=null,this.stores=t._stores,this.version=t.getVersion(),this.onupgradeneeded=t.callback(),Object.keys(this.stores).forEach(function(e){this.stores[e].db=this},this)}function n(){return o().cmp.apply(o(),arguments)}function o(){return L._indexedDB||L.indexedDB||L.msIndexedDB||L.mozIndexedDB||L.webkitIndexedDB}var i=z,s=K,u=W,a=U;t=e.exports=r,t.schema=s,t.cmp=n,t.Treo=r,t.Schema=s,t.Store=u,t.Index=a,r.prototype.use=function(e){return e(this,t),this},r.prototype.drop=function(e){var t=this.name;this.close(function(r){if(r)return e(r);var n=o().deleteDatabase(t);n.onerror=e,n.onsuccess=function(){e()}})},r.prototype.close=function(e){return"close"==this.status?e():void this.getInstance(function(t,r){return t?e(t):(r.origin=null,r.status="close",r.close(),void e())})},r.prototype.store=function(e){return this.stores[e]},r.prototype.getInstance=function(e){if("open"==this.status)return e(null,this.origin);if("opening"==this.status)return this.queue.push(e);this.status="opening",this.queue=[e];var t=this,r=o().open(this.name,this.version);r.onupgradeneeded=this.onupgradeneeded,r.onerror=r.onblocked=function(e){t.status="error",t.queue.forEach(function(t){t(e)}),delete t.queue},r.onsuccess=function(e){t.origin=e.target.result,t.status="open",t.origin.onversionchange=function(){t.close(function(){})},t.queue.forEach(function(e){e(null,t.origin)}),delete t.queue}},r.prototype.transaction=function(e,t,r){this.getInstance(function(n,o){n?r(n):r(null,o.transaction(t,e))})}}),Y=J&&"object"==typeof J&&"default"in J?J.default:J,X=P.getLogger("RSStorage:operations");X.setLevel("warn");var Z=["_email.id","_email.tid"],ee=[[{name:"_id.list",indexes:["sift.guid"]},{name:"_tid.list",indexes:["sift.guid"]}],[{name:"_email.id",indexes:["sift.guid"]},{name:"_email.tid",indexes:["sift.guid"]},{name:"_id.list",drop:!0},{name:"_tid.list",drop:!0}]],te=[{name:"events",indexes:["value.sift.guid"]},{name:"admin"}],re=[{name:"tour"},{name:"spm"},{name:"auth"}],ne=new WeakMap,oe=new WeakMap,ie=function(e,t){if(this._logger=P.getLogger("RSStorage"),this._logger.setLevel(t||"warn"),!e.accountGuid)throw new Error("[Storage]: dbInfo.accountGuid undefined");ne.set(this,e.siftGuid),oe.set(this,u(e))};ie.prototype.get=function(e){return this._logger.trace("[Storage::get]: ",e),c(oe.get(this),e,ne.get(this))},ie.prototype.getAll=function(e){return this._logger.trace("[Storage::getAll]: ",e),l(oe.get(this),e,ne.get(this))},ie.prototype.getAllKeys=function(e){return this._logger.trace("[Storage::getAllKeys]: ",e),f(oe.get(this),e,ne.get(this))},ie.prototype.getIndex=function(e){return this._logger.trace("[Storage::getIndex]: ",e),d(oe.get(this),e,ne.get(this))},ie.prototype.getIndexKeys=function(e){return this._logger.trace("[Storage::getIndexKeys]: ",e),p(oe.get(this),e,ne.get(this))},ie.prototype.getWithIndex=function(e){return this._logger.trace("[Storage::getWithIndex]: ",e),h(oe.get(this),e,ne.get(this))},ie.prototype.delUser=function(e){return e.bucket="_user.default",this._logger.trace("[Storage::delUser]: ",e),a(oe.get(this),e,ne.get(this))},ie.prototype.getUser=function(e){return e.bucket="_user.default",this._logger.trace("[Storage::getUser]: ",e),c(oe.get(this),e,ne.get(this))},ie.prototype.putUser=function(e){return e.bucket="_user.default",this._logger.trace("[Storage::putUser]: ",e),e.kvs&&0!==e.kvs.length?g(oe.get(this),e,!1,ne.get(this)):Promise.reject("[Storage::putUser]: params.kvs undefined")};var se=function(){this._proxy=self,this.view=new O,this.emailclient=new H(self),this._registerMessageListeners()};se.prototype.publish=function(e,t){this._proxy.postMessage({method:"notifyView",params:{topic:e,value:t}})},se.prototype._registerMessageListeners=function(){var e=this;this._proxy&&(this._proxy.onmessage=function(t){var r=t.data.method;e["_"+r]&&e["_"+r](t.data.params)})},se.prototype._init=function(e){this.storage=new q,this.storage.init(new ie({type:"SIFT",siftGuid:e.siftGuid,accountGuid:e.accountGuid,schema:e.dbSchema})),this._guid=e.siftGuid,this._account=e.accountGuid,this._proxy.postMessage({method:"initCallback",result:e})},se.prototype._terminate=function(){this._proxy&&this._proxy.close()},se.prototype._postCallback=function(e,t){this._proxy.postMessage({method:"loadViewCallback",params:{user:{guid:this._account},sift:{guid:this._guid},type:e.type,sizeClass:e.sizeClass,result:t}})},se.prototype._loadView=function(t){var r=this;if(!this.loadView)return void e.error("[SiftController::_loadView]: Sift controller must implement the loadView method");var n=this.loadView({sizeClass:t.sizeClass,type:t.type,params:t.data});n.data&&"function"==typeof n.data.then?(n.html&&this._postCallback(t,{html:n.html}),n.data.then(function(e){r._postCallback(t,{html:n.html,data:e})}).catch(function(t){e.error("[SiftController::loadView]: promise rejected: ",t)})):this._postCallback(t,n)},se.prototype._storageUpdated=function(e){var t=this;this.storage.publish("*",e),e.forEach(function(e){t.storage.publish(e,[e])})},se.prototype._notifyController=function(e){this.view.publish(e.topic,e.value)},se.prototype._emailComposer=function(e){this.emailclient.publish(e.topic,e.value)},t.EmailClientController=I,t.SiftController=se,t.SiftStorage=q,t.SiftView=D,t.registerSiftView=_,t.createSiftView=x,t.createSiftController=S,t.registerSiftController=E,t.createEmailClientController=T,t.registerEmailClientController=j,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,r(1),function(){return this}())},function(e,t,r){(function(e){!function(e,r){r(t)}(this,function(t){"use strict";function r(e,t){var r={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},n=new Image;n.onload=function(){var r=n.width>0&&n.height>0;t(e,r)},n.onerror=function(){t(e,!1)},n.src="data:image/webp;base64,"+r[e]}function n(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var o=.4124*t+.3576*r+.1805*n,i=.2126*t+.7152*r+.0722*n,s=.0193*t+.1192*r+.9505*n;return[100*o,100*i,100*s]}function o(e){var t,r,o,i=n(e),s=i[0],u=i[1],a=i[2];return s/=95.047,u/=100,a/=108.883,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,u=u>.008856?Math.pow(u,1/3):7.787*u+16/116,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,t=116*u-16,r=500*(s-u),o=200*(u-a),[t,r,o]}function i(t){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;
t=t.replace(r,function(e,t,r,n){return t+t+r+r+n+n});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:(e.log("Could not parse color",t),[0,0,0])}function s(e,t,r){if(t=Math.round(t),r=Math.round(r),r<0)return Promise.reject("bad duration");if(0===r)return e.scrollTop=t,Promise.resolve("no-duration");var n=Date.now(),o=n+r,i=e.scrollTop,s=t-i,u=function(e,t,r){if(r<=e)return 0;if(r>=t)return 1;var n=(r-e)/(t-e);return n*n*(3-2*n)};return new Promise(function(t,r){var a=e.scrollTop,c=null,l=function(){var r=Date.now(),l=u(n,o,r),f=Math.round(i+s*l);return e.scrollTop=f,r>=o?(window.clearInterval(c),void t("done")):e.scrollTop===a&&e.scrollTop!==f?(window.clearInterval(c),void t("limit")):void(a=e.scrollTop)};c=setInterval(l,10)})}function u(t,r){return function(n){var o=document.getElementById(t);if(void 0===o)return!0;r=r||0;var i=l(o).top+r;return s(document.body,i,A).catch(function(t){e.error(t)}),n.preventDefault(),!1}}function a(e,t,r){r=r||window;var n=!1,o=function(){n||(n=!0,requestAnimationFrame(function(){r.dispatchEvent(new CustomEvent(t)),n=!1}))};r.addEventListener(e,o)}function c(){var e=window.scrollY;_.forEach(function(t){for(var r=t[0],n=t[1],o=t[2],i=t[4],s=!1,u=0;u<i.length;u++){var a=i[u];if(s=e>a.start&&e<a.end)break}s!==n&&(t[1]=s,s?r.classList.add(o):r.classList.remove(o))})}function l(e){var t=document,r=window,n=t.body,o=void 0!==r.pageXOffset?r.pageXOffset:(t.documentElement||n.parentNode||n).scrollLeft,i=void 0!==r.pageYOffset?r.pageYOffset:(t.documentElement||n.parentNode||n).scrollTop,s=e.getBoundingClientRect();if(e!==n)for(var u=e.parentNode;u!==n;)o+=u.scrollLeft,i+=u.scrollTop,u=u.parentNode;return{bottom:s.bottom+i,height:s.height,left:s.left+o,right:s.right+o,top:s.top+i,width:s.width}}function f(){_.forEach(function(e){for(var t=e[0].getBoundingClientRect(),r=e[3],n=document.querySelectorAll(r),o=[],i=0;i<n.length;i++){var s=n[i],u=l(s);o.push({start:u.top-t.height,end:u.bottom})}e[4]=o})}function d(e,t){var r=e.min||0,n=e.max||100,o=Math.ceil((e.value-r)/(n-r)*100);try{C.deleteRule(t)}catch(e){}C.addRule("input[type=range].rs-index-"+t+"::-webkit-slider-runnable-track","background-size:"+o+"% 100%",t)}function p(e,t){for(var r=[],n=0,o=e.length;n<o;++n){var i=Math.max(0,n-5*t),s=Math.min(e.length-1,n+5*t),u=0;r[n]=0;for(var a=i;a<s;++a){var c=Math.exp(-.5*(n-a)*(n-a)/t/t);r[n]+=c*e[a],u+=c}r[n]/=u}return r}function h(){var e=document.createElement("style");e.innerHTML=H,document.body.appendChild(e)}var g={webp:function(e,t){r(e,t)}},y="#fff",v="#000",m=["#ed154f","#ED1651","#C82254","#A62A57","#842F59","#842F59","#35355C","#231F20"],b=64,w={randomTheme:function(){return m[Math.floor(Math.random()*m.length)]},textColorFor:function(e){("string"==typeof e||e instanceof String)&&(e=i(e));var t=o(e);return t[0]<b?y:v},lightnessSort:function(){var e=colors.map(function(e){var t=e;return Array.isArray(e)||(t=i(e)),[o(t),e]}),t=e.sort(function(e,t){return e[0][0]<t[0][0]?-1:e[0][0]>t[0][0]?-1:0});return t.map(function(e){return e[1]})},themes:m},k={localShortMonths:function(e){void 0===e&&(e=navigator.language);var t=null;return t=void 0!==window.Intl?new Intl.DateTimeFormat(e,{month:"short",timeZone:"UTC"}):{format:function(e){return e.toUTCString().split(" ")[2]}},Array.apply(null,Array(12)).map(function(e,r){return t.format(new Date(Date.UTC(2014,r,7)))})},localShortWeekday:function(e){void 0===e&&(e=navigator.language);var t=null;return t=void 0!==window.Intl?new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}):{format:function(e){return e.toUTCString().split(" ")[0].substring(0,3)}},Array.apply(null,Array(7)).map(function(e,r){return t.format(new Date(Date.UTC(2014,1,r+2)))})}},A=200,_=[],x={initSmooth:function(e,t){for(var r=document.querySelectorAll(e),n=0;n<r.length;n++){var o=r[n],i=o.attributes.href;if(void 0!==i&&0!==i.length){var s=i.nodeValue.toString();"#"===s.substr(0,1)&&o.addEventListener("click",u(s.substr(1),t),!1)}}},toggleClass:function(e,t,r){var n=document.querySelectorAll(e);n.length>0&&(window.addEventListener("optimizedResize",f),window.addEventListener("optimizedScroll",c));for(var o=0;o<n.length;o++){for(var i=n[o],s=[i,null,t,r,[]],u=!1,a=0;o<_.length;o++)if(_[a][0]==i){_[a]=s,u=!0;break}u||_.push(s)}f(),c()},updateRegions:f};a("scroll","optimizedScroll"),a("resize","optimizedResize");var S={now:function(){var e=window.performance;if(void 0===e)this.now=function(){return(new Date).getTime()};else if(e.now)this.now=function(){return e.now()};else if(e.webkitNow)this.now=function(){return e.webkitNow()};else if(e.msNow)this.now=function(){return e.msNow()};else if(e.oNow)this.now=function(){return e.oNow()};else{if(!e.mozNow)throw new Error("unknown window.performance impl");this.now=function(){return e.mozNow()}}return this.now()}},E=function(e,t){void 0===t&&(t=5),this.treo=e,this.tm={},this.count=0,this.outstanding=[],this.runningTotal=0,this.puts=0,this.max=t,t&&(this.max=t)};E.prototype.countQueue=function(){return this.puts},E.prototype.countTransactionsQueue=function(){return this.outstanding.length},E.prototype.countTransactions=function(){return this.count},E.prototype.runningTransactionTotal=function(){return this.runningTotal},E.prototype.shiftq=function(e,t,r,n){void 0===n&&(n=1);var o=this,i=t.shift();if(i){var s=e.put(i.v,i.k);this.puts=this.puts-1,s.onsuccess=function(){i.r(),o.shiftq(e,t,r,n+1)},s.onerror=function(e){i.j(e)}}else this.tm[r]=null},E.prototype.gate=function(e){function t(){var t=!1;r.count=r.count+1;try{r.runningTotal=r.runningTotal+1,e(function(){t||(t=!0,r.count=r.count-1);var e=r.outstanding.shift();e&&r.gate(e)})}catch(e){throw t||(t=!0,r.count=r.count-1),e}}var r=this;this.count>=this.max?this.outstanding.push(e):t()},E.prototype.put=function(e,t,r){var n=this,o=this.treo,i=this.tm,s=i[e];return this.puts=this.puts+1,new Promise(function(u,a){var c={v:t,r:u,j:a,k:r};null==s?(s=[c],i[e]=s,n.gate(function(t){o.transaction("readwrite",[e],function(r,o){return r?(t(),void s.forEach(function(e){e.j()})):(o.oncomplete=function(){t(),i[e]=null},o.onerror=function(r){s.forEach(function(e){e.j()}),t(),i[e]=null},void n.shiftq(o.objectStore(e),s,e))})})):s.push(c)})};var T={wrap:function(e,t){return new E(e,t)}},j=document.createElement("style");document.head.appendChild(j);var C=j.sheet,I={initAllRanges:function(){for(var e=document.querySelectorAll("input[type=range]"),t=function(t){var r=e[t];r.className+=" rs-index-"+t,d(r,t),function(e){r.addEventListener("input",function(){d(this,e)})}(t)},r=0;r<e.length;r++)t(r)},setValue:function(e,t){e.value=t;for(var r=document.querySelectorAll("input[type=range]"),n=0;n<r.length;n++)r[n]===e&&d(e,n)}},O={use:function(e){for(var t=document.getElementsByTagName("link"),r=0;r<t.length;r++){var n=t[r];n.rel.indexOf("stylesheet")!=-1&&n.title&&(n.disabled=!0,n.title==e&&(n.disabled=!1))}}},D={wiggle:function(e,t,r,n){return void 0===e&&(e=.93),void 0===t&&(t=.003),void 0===r&&(r=500),void 0===n&&(n=300),function(o){var i=o.map(function(e){return[e[0]/r,e[1]/n]}),s=i.map(function(e,t){if(0==t)return 0;var r=e[0]-i[t-1][0],n=e[1]-i[t-1][1];return Math.sqrt(r*r+n*n)}),u=s.reduce(function(e,t){return t+e},0),a=Math.round(200*u),c=[];s.map(function(e,t){if(0!=t)for(var r=Math.max(3,Math.round(e/u*a)),n=d3.interpolate(i[t-1][1],i[t][1]),o=(i[t][0]-i[t-1][0])/(r-1),s=0,l=i[t-1][0];s<r;++s,l+=o)c.push([l,n(s/(r-1))])});var l=c.map(function(e,t,r){return 0==t?[r[1][0]-r[0][0],r[1][1]-r[0][1]]:t==c.length-1?[r[t][0]-r[t-1][0],r[t][1]-r[t-1][1]]:[.5*(r[t+1][0]-r[t-1][0]),.5*(r[t+1][1]-r[t-1][1])]});l=l.map(function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return 0===t?[0,0]:[e[0]/t,e[1]/t]});var f=p(c.map(d3.random.normal(0,e)),3),d=c.map(function(e,o){var i=f[o],s=l[o];return[((e[0]+t*s[1]*i)*r).toFixed(6),((e[1]-t*s[0]*i)*n).toFixed(6)]});return d.join("L")}}},H="\n  * {\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  }\n";t.FeatureDetection=g,t.ColorTools=w,t.Lang=k,t.Scroll=x,t.Timing=S,t.TreoWriter=T,t.Sliders=I,t.StyleSwitcher=O,t.Xkcd=D,t.cssDisableSelection=h,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,r(1))},function(e,t,r){(function(e){!function(e,r){r(t)}(this,function(t){function r(e,t,r){if(t=Math.round(t),r=Math.round(r),r<0)return Promise.reject("bad duration");if(0===r)return e.scrollTop=t,Promise.resolve("no-duration");var n=Date.now(),o=n+r,i=e.scrollTop,s=t-i,u=function(e,t,r){if(r<=e)return 0;if(r>=t)return 1;var n=(r-e)/(t-e);return n*n*(3-2*n)};return new Promise(function(t,r){var a=e.scrollTop,c=null,l=function(){var r=Date.now(),l=u(n,o,r),f=Math.round(i+s*l);return e.scrollTop=f,r>=o?(window.clearInterval(c),void t("done")):e.scrollTop===a&&e.scrollTop!==f?(window.clearInterval(c),void t("limit")):void(a=e.scrollTop)};c=setInterval(l,10)})}function n(t,n){return function(o){var i=document.getElementById(t);if(void 0===i)return!0;n=n||0;var u=s(i).top+n;return r(document.body,u,c).catch(function(t){e.error(t)}),o.preventDefault(),!1}}function o(e,t,r){r=r||window;var n=!1,o=function(){n||(n=!0,requestAnimationFrame(function(){r.dispatchEvent(new CustomEvent(t)),n=!1}))};r.addEventListener(e,o)}function i(){var e=window.scrollY;l.forEach(function(t){for(var r=t[0],n=t[1],o=t[2],i=t[4],s=!1,u=0;u<i.length;u++){var a=i[u];if(s=e>a.start&&e<a.end)break}s!==n&&(t[1]=s,s?r.classList.add(o):r.classList.remove(o))})}function s(e){var t=document,r=window,n=t.body,o=void 0!==r.pageXOffset?r.pageXOffset:(t.documentElement||n.parentNode||n).scrollLeft,i=void 0!==r.pageYOffset?r.pageYOffset:(t.documentElement||n.parentNode||n).scrollTop,s=e.getBoundingClientRect();if(e!==n)for(var u=e.parentNode;u!==n;)o+=u.scrollLeft,i+=u.scrollTop,u=u.parentNode;return{bottom:s.bottom+i,height:s.height,left:s.left+o,right:s.right+o,top:s.top+i,width:s.width}}function u(){l.forEach(function(e){for(var t=e[0].getBoundingClientRect(),r=e[3],n=document.querySelectorAll(r),o=[],i=0;i<n.length;i++){var u=n[i],a=s(u);o.push({start:a.top-t.height,end:a.bottom})}e[4]=o})}function a(){try{document.registerElement("rs-hero",h)}catch(t){e.log("[redsift-ui] Element already exists: ",t)}}var c=200,l=[],f={initSmooth:function(e,t){for(var r=document.querySelectorAll(e),o=0;o<r.length;o++){var i=r[o],s=i.attributes.href;if(void 0!==s&&0!==s.length){var u=s.nodeValue.toString();"#"===u.substr(0,1)&&i.addEventListener("click",n(u.substr(1),t),!1)}}},toggleClass:function(e,t,r){var n=document.querySelectorAll(e);n.length>0&&(window.addEventListener("optimizedResize",u),window.addEventListener("optimizedScroll",i));for(var o=0;o<n.length;o++){for(var s=n[o],a=[s,null,t,r,[]],c=!1,f=0;o<l.length;o++)if(l[f][0]==s){l[f]=a,c=!0;break}c||l.push(a)}u(),i()},updateRegions:u};o("scroll","optimizedScroll"),o("resize","optimizedResize");var d=document.createElement("style");document.head.appendChild(d);var p=(d.sheet,function(e,t){this.locators={hero:".hero",heroContainer:".hero__container",heroContent:".hero__content",heroHeader:".hero__header",heroHeaderContent:".hero__header__content",heroStickyHeader:".hero-sticky-header",heroStickyHeaderActive:".hero-sticky-header--active",scrollDownArrow:"#smooth"},this.downArrowHtml='<div class="down-arrow"></div>',this.hasStickyHeader=!1;var r='\n      <div class="hero">\n          <div class="hero__header">\n              <h3 class="hero__header__content"><!-- yields header --></h3>\n          </div>\n          <div class="hero__container">\n              <div class="hero__content"><!-- yields content --></div>\n          </div>\n      </div>\n    ';this._setupElement(e,r,t)});p.prototype.setHeader=function(e){this.$headerContent.innerHTML=e},p.prototype.setBgClass=function(e){this.$hero.className+=" "+e},p.prototype.enableStickyHeader=function(t,r){if(t){var n=document.querySelector(this.locators.heroHeader),o=document.querySelector(this.locators.hero);if(n&&(n.classList.remove(this.locators.heroHeader.substr(1)),n.classList.add(this.locators.heroStickyHeader.substr(1)),o.parentNode.parentNode.appendChild(n)),r&&""!=r)try{f.toggleClass(this.locators.heroStickyHeader,this.locators.heroStickyHeaderActive.substr(1),r)}catch(t){e.log('[redsift-ui/hero] Error enabling sticky header. Did you specify a valid element name for the "sticky-header" attribute?')}this.hasStickyHeader=!0}else{var i=document.querySelector(this.locators.heroStickyHeader),s=document.querySelector(this.locators.hero);i&&(i.classList.add(this.locators.heroHeader.substr(1)),i.classList.remove(this.locators.heroStickyHeader.substr(1)),s.insertBefore(i,s.firstChild),this.hasStickyHeader=!1)}},p.prototype.enableScrollFeature=function(e,t){if(e){this.$scrollFeature=this._createScrollFeatureElement(t),this.$container.appendChild(this.$scrollFeature);var r=this._getStickyHeaderHeight();f.initSmooth(this.locators.scrollDownArrow,-r)}else this.$scrollFeature&&this.$scrollFeature.parentNode&&this.$scrollFeature.parentNode.removeChild(this.$scrollFeature)},p.prototype._setupElement=function(e,t,r){var n=e.innerHTML;e.innerHTML=t;var o=document.querySelector(this.locators.heroContent);o.innerHTML=n,r.hasStickyHeader&&this.enableStickyHeader(!0,r.stickyHeaderTrigger),this._cacheElements(r.hasStickyHeader),r.header&&this.setHeader(r.header),r.bgClass&&this.setBgClass(r.bgClass),r.scrollTarget&&this.enableScrollFeature(!0,r.scrollTarget)},p.prototype._createScrollFeatureElement=function(e){var t=document.createElement("a");return t.id=this.locators.scrollDownArrow.substr(1),t.href=e,t.innerHTML=this.downArrowHtml,t},p.prototype._getStickyHeaderHeight=function(){var t=0;try{this.hasStickyHeader&&(t=this.$header.getBoundingClientRect().height)}catch(t){e.log('[redsift-ui/hero] Error enabling sticky header. Did you specify a valid element name for the "sticky-header" attribute?')}},p.prototype._cacheElements=function(e){this.$hero=document.querySelector(this.locators.hero),e?this.$header=document.querySelector(this.locators.heroStickyHeader):this.$header=document.querySelector(this.locators.heroHeader),this.$headerContent=document.querySelector(this.locators.heroHeaderContent),this.$container=document.querySelector(this.locators.heroContainer),this.$content=document.querySelector(this.locators.heroContent),this.$scrollFeature=void 0};var h=function(t){function r(){t.apply(this,arguments)}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var n={header:{},bgClass:{},hasStickyHeader:{},stickyHeader:{},scrollTarget:{}};return r.prototype.attachedCallback=function(){var e=this.stickyHeader;this.rsHero=new p(this,{hasStickyHeader:this.hasStickyHeader,stickyHeaderTrigger:e,header:this.header,bgClass:this.bgClass,scrollTarget:this.scrollTarget})},r.prototype.attributeChangedCallback=function(t,r,n){"scroll-target"===t&&(n||this.rsHero.enableScrollFeature(!1),n&&!r&&this.rsHero.enableScrollFeature(!0,this.scrollTarget)),"sticky-header"===t&&(this.hasStickyHeader?(n&&""!=n||e.log('[redsift-ui] WARNING: No selector specified with "sticky-header" attribute. No "hero-sticky-header--active" class will be added!'),this.rsHero.enableStickyHeader(!0,this.stickyHeader)):this.rsHero.enableStickyHeader(!1))},n.header.get=function(){return this.getAttribute("header")},n.header.set=function(e){this.setAttribute("header",e)},n.bgClass.get=function(){return this.getAttribute("bg-class")},n.bgClass.set=function(e){this.setAttribute("bg-class",e)},n.hasStickyHeader.get=function(){var e=this.getAttribute("sticky-header");return!(""!=e&&!e)},n.stickyHeader.get=function(){return this.getAttribute("sticky-header")},n.stickyHeader.set=function(e){return this.setAttribute("sticky-header",e)},n.scrollTarget.get=function(){return this.getAttribute("scroll-target")},n.scrollTarget.set=function(e){return this.setAttribute("scroll-target",e)},Object.defineProperties(r.prototype,n),r}(HTMLElement);!function(){if("registerElement"in document&&"import"in document.createElement("link")&&"content"in document.createElement("template"))a();else{var e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/webcomponentsjs/0.7.22/CustomElements.js",document.body.appendChild(e),window.addEventListener("WebComponentsReady",function(e){a()})}}(),t.registerHeroElement=a,t.RedsiftHero=p,Object.defineProperty(t,"__esModule",{value:!0})})}).call(t,r(1))}]);
//# sourceMappingURL=view.umd-es2015.min.js.map